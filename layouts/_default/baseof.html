<!DOCTYPE html>
<html class="dark" lang="{{ .Page.Language }}">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/x-icon" href="{{ .Site.BaseURL }}favicon.ico">

  {{ $styles := resources.Get "css/index.css" | resources.PostCSS }}

  {{ if .Site.IsServer }}
    {{ $styles := $styles | resources.ExecuteAsTemplate (printf "css/index.dev.%v.css" now.UnixMilli) . }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}"/>
  {{ else }}
    {{ $styles := $styles | minify | fingerprint | resources.PostProcess }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" integrity="{{ $styles.Data.Integrity }}"/>
  {{ end }}

  <title>{{ .Page.Title }}</title>
</head>

<body class="font-mono dark:bg-stone-900 dark:text-white h-screen container mx-auto px-10 max-w-screen-lg flex flex-col">
  {{ partial "nav.html" . }}

  <main class="grow mt-10">
    {{ block "main" . }}
    {{ end }}
  </main>

  <footer class="text-center mt-10 pb-4 text-sm">
    Powered by
    <a class="anchor" target="_blank" href="https://gohugo.io/">Hugo</a>
    and
    <a class="anchor" target="_blank" href="https://tailwindcss.com/">TailwindCSS</a>
    <span class="text-xl">&#10084;</span>
  </footer>

  {{ $js := resources.Get "js/index.js" | js.Build | resources.Minify | fingerprint }}
  <script src="{{ $js.Permalink }}" integrity="{{ $js.Data.Integrity }}" defer></script>
</body>

</html>
